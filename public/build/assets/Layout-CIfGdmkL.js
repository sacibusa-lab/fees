import{r as l,j as s,a as k,L as c,e as b,f}from"./app-Bea50Gbg.js";import{c as t}from"./createLucideIcon-C7VTPdfu.js";const g=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],M=t("bell",g);const _=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],$=t("building-2",_);const z=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],p=t("calendar",z);const C=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],j=t("chevron-down",C);const w=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],N=t("credit-card",w);const S=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],P=t("file-text",S);const H=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],L=t("house",H);const A=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],O=t("loader-circle",A);const V=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],B=t("log-out",V);const I=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],T=t("settings",I);const q=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],D=t("user",q);const E=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],F=t("users",E);const R=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],U=t("x",R),W=({isOpen:n,onClose:r})=>{const[i,h]=l.useState(""),[d,m]=l.useState(!1),[a,x]=l.useState(null),[v,o]=l.useState(null);if(!n)return null;const u=async()=>{if(i.trim()){m(!0),o(null),x(null);try{const e=await k.get(`/api/payments/verify?query=${i}`);x(e.data)}catch(e){o(e.response?.data?.message||"Transaction not found. Please check the ID and try again.")}finally{m(!1)}}};return s.jsx("div",{className:"verify-modal-overlay",onClick:r,children:s.jsxs("div",{className:"verify-modal-content",onClick:e=>e.stopPropagation(),children:[s.jsx("button",{className:"close-btn",onClick:r,children:s.jsx(U,{size:24})}),s.jsx("h2",{className:"modal-title",children:"Check Payment Status"}),s.jsx("div",{className:"search-box",children:s.jsx("input",{type:"text",placeholder:"Reg Number or Payer ID",value:i,onChange:e=>h(e.target.value),onKeyPress:e=>e.key==="Enter"&&u()})}),v&&s.jsx("div",{className:"error-message",children:v}),d&&s.jsxs("div",{className:"loading-state",children:[s.jsx(O,{className:"animate-spin",size:32}),s.jsx("span",{children:"Checking status..."})]}),a&&s.jsxs("div",{className:"result-container",children:[s.jsx("h3",{className:"student-name",children:a.student_name}),s.jsxs("div",{className:"result-card",children:[s.jsxs("div",{className:"result-header",children:[s.jsx("span",{className:"fee-title",children:a.fee_title}),s.jsxs("span",{className:"session-info",children:[a.session," - ",a.term]})]}),s.jsx("div",{className:"ref-id",children:a.reference}),s.jsxs("div",{className:"result-details",children:[s.jsxs("div",{className:"detail-item",children:[s.jsx(p,{size:16}),s.jsx("span",{children:a.date})]}),s.jsxs("div",{className:"detail-item",children:[s.jsx(N,{size:16}),s.jsx("span",{children:a.amount})]})]}),s.jsx("div",{className:`status-badge ${a.status.toLowerCase()}`,children:a.status})]})]}),s.jsx("button",{className:"check-btn",onClick:u,disabled:d||!i.trim(),children:d?"Checking...":"Check"})]})})},K=({institution:n})=>{const r=window.location.pathname,[i,h]=l.useState(r.startsWith("/students")),[d,m]=l.useState(r.startsWith("/payments")),[a,x]=l.useState(r.startsWith("/business")),[v,o]=l.useState(!1),u=()=>{b.post("/logout")},e=y=>window.location.pathname===y;return s.jsxs("div",{className:"sidebar",children:[s.jsxs("div",{className:"sidebar-header",children:[s.jsxs("div",{className:"logo",children:[s.jsx("div",{className:"logo-icon",children:s.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z"})})}),s.jsx("span",{className:"logo-text",children:n?.name||"Fees"})]}),s.jsxs("div",{className:"portal-id",children:["Portal ID: ",n?.portal_id||"N/A"]}),s.jsxs("button",{className:"verify-payment-btn",onClick:()=>o(!0),children:[s.jsx("span",{children:"âœ“"})," Verify Payment"]})]}),s.jsx(W,{isOpen:v,onClose:()=>o(!1)}),s.jsxs("nav",{className:"sidebar-nav",children:[s.jsxs(c,{href:"/dashboard",className:`nav-item ${e("/dashboard")?"active":""}`,children:[s.jsx(L,{size:18}),s.jsx("span",{children:"Home"})]}),s.jsxs("div",{className:"nav-section",children:[s.jsxs("button",{className:`nav-item nav-section-header ${i?"open":""}`,onClick:()=>h(!i),children:[s.jsx(F,{size:18}),s.jsx("span",{children:"Students Hub"}),s.jsx(j,{size:16,className:"chevron"})]}),i&&s.jsxs("div",{className:"nav-submenu",children:[s.jsxs(c,{href:"/students/classes",className:`nav-subitem ${e("/students/classes")?"active":""}`,children:[s.jsx("span",{className:"dot"}),"Classes"]}),s.jsxs(c,{href:"/students",className:`nav-subitem ${e("/students")?"active":""}`,children:[s.jsx("span",{className:"dot"}),"Students"]})]})]}),s.jsxs(c,{href:"/fees",className:`nav-item ${e("/fees")?"active":""}`,children:[s.jsx(P,{size:18}),s.jsx("span",{children:"Fees"})]}),s.jsxs("div",{className:"nav-section",children:[s.jsxs("button",{className:`nav-item nav-section-header ${d?"open":""}`,onClick:()=>m(!d),children:[s.jsx(N,{size:18}),s.jsx("span",{children:"Payments"}),s.jsx(j,{size:16,className:"chevron"})]}),d&&s.jsxs("div",{className:"nav-submenu",children:[s.jsxs(c,{href:"/payments/overview",className:`nav-subitem ${e("/payments/overview")?"active":""}`,children:[s.jsx("span",{className:"dot"}),"Overview"]}),s.jsxs(c,{href:"/payments/transactions",className:`nav-subitem ${e("/payments/transactions")?"active":""}`,children:[s.jsx("span",{className:"dot"}),"Transactions"]})]})]}),s.jsxs(c,{href:"/academic-sessions",className:`nav-item ${e("/academic-sessions")?"active":""}`,children:[s.jsx(p,{size:18}),s.jsx("span",{children:"Academic Sessions"})]}),s.jsxs("div",{className:"nav-section",children:[s.jsxs("button",{className:`nav-item nav-section-header ${a?"open":""}`,onClick:()=>x(!a),children:[s.jsx($,{size:18}),s.jsx("span",{children:"Business"}),s.jsx(j,{size:16,className:"chevron"})]}),a&&s.jsxs("div",{className:"nav-submenu",children:[s.jsxs(c,{href:"/business/profile",className:`nav-subitem ${e("/business/profile")?"active":""}`,children:[s.jsx("span",{className:"dot"}),"Business Profile"]}),s.jsxs(c,{href:"/business/bank-accounts",className:`nav-subitem ${e("/business/bank-accounts")?"active":""}`,children:[s.jsx("span",{className:"dot"}),"Bank Accounts"]})]})]}),s.jsxs(c,{href:"/settings",className:`nav-item ${e("/settings")?"active":""}`,children:[s.jsx(T,{size:18}),s.jsx("span",{children:"Settings"})]})]}),s.jsxs("div",{className:"sidebar-footer",children:[s.jsxs("div",{className:"institution-info",children:[n?.logo?s.jsx("img",{src:n.logo,alt:"Institution Logo",className:"institution-avatar",style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover"}}):s.jsx("div",{className:"institution-avatar",children:n?.name?.charAt(0)||"S"}),s.jsxs("div",{className:"institution-details",children:[s.jsx("div",{className:"institution-name",children:n?.name||"Institution"}),s.jsx("div",{className:"institution-role",children:n?.email||"Admin"})]}),s.jsx(j,{size:16})]}),s.jsxs("button",{className:"logout-btn",onClick:u,children:[s.jsx(B,{size:18}),s.jsx("span",{children:"Logout"})]}),s.jsx("div",{className:"version",children:"Version 2.1.0"})]})]})},Q=({title:n})=>s.jsxs("header",{className:"header",children:[s.jsx("h1",{className:"page-title",children:n}),s.jsxs("div",{className:"header-actions",children:[s.jsxs("button",{className:"icon-btn notification-btn",children:[s.jsx(M,{size:20}),s.jsx("span",{className:"notification-badge",children:"1"})]}),s.jsx("button",{className:"icon-btn profile-btn",children:s.jsx(D,{size:20})})]})]}),J=({children:n})=>{const{institution:r}=f().props,[i,h]=l.useState("Portal");return s.jsxs("div",{className:"layout",children:[s.jsx(K,{institution:r}),s.jsxs("div",{className:"main-content",children:[s.jsx(Q,{title:i}),s.jsx("main",{className:"content",children:n})]})]})};export{$ as B,N as C,J as L,T as S,F as U,U as X,D as a};
