const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/app-8SCMTW8O.js","assets/app-_xkRgTL5.css"])))=>i.map(i=>d[i]);
import{u as y,R as I,j as e,r as j,H as Y,_ as M,L as T}from"./app-8SCMTW8O.js";import{X as C,L as J,C as K,S as Q}from"./Layout-xUua1U_S.js";/* empty css                       */import{C as Z}from"./circle-alert-BedFCPGt.js";import{U as ee}from"./upload-dtKAPCUH.js";import{c as z}from"./createLucideIcon-DC07x121.js";import{P as se}from"./pen-BI3SzXZR.js";import{T as G}from"./trash-2-C4I5ZQ6R.js";import{D as R}from"./download-GDUF7KdP.js";import{S as ae}from"./square-pen-Yl8vTf07.js";const le=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ne=z("check",le);const ie=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],te=z("external-link",ie);const re=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],$=z("user-plus",re),ce=({show:x,onClose:t,selectedStudentIds:a=[],classes:m=[]})=>{if(!x)return null;const{data:u,setData:o,post:h,processing:d,errors:g,reset:r}=y({student_ids:a,target_class_id:"",target_session_id:"",retain_debt:!0});I.useEffect(()=>{x&&o("student_ids",a)},[x,a]);const c=a.length>1,N=n=>{n.preventDefault(),h("/students/promote",{onSuccess:()=>{t()}})};return e.jsx("div",{className:"modal-overlay",onClick:t,children:e.jsxs("div",{className:"modal-content promotion-modal",onClick:n=>n.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("div",{className:"header-title",children:[e.jsx("h3",{children:"Promote Students"}),e.jsxs("p",{children:["Move ",a.length," selected student",c?"s":""," to a new class"]})]}),e.jsx("button",{className:"close-btn",onClick:t,children:e.jsx(C,{size:20})})]}),e.jsxs("div",{className:"warning-banner",children:[e.jsx(Z,{size:18}),e.jsx("span",{children:"This action will update the class for all selected students."})]}),e.jsxs("form",{onSubmit:N,className:"promotion-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Target Class"}),e.jsxs("select",{value:u.target_class_id,onChange:n=>o("target_class_id",n.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select Class"}),m.map(n=>e.jsx("option",{value:n.id,children:n.name},n.id))]}),g.target_class_id&&e.jsx("span",{className:"error-msg",children:g.target_class_id})]}),e.jsxs("div",{className:"form-footer-actions",children:[e.jsx("button",{type:"button",className:"btn-cancel",onClick:t,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-promote",disabled:d,children:d?"Promoting...":"Promote Students"})]})]})]})})},oe=({show:x,onClose:t,classes:a=[],subClasses:m=[]})=>{if(!x)return null;const[u,o]=j.useState("single"),{data:h,setData:d,post:g,processing:r,errors:c,reset:N}=y({name:"",gender:"",class_id:"",sub_class_id:"",auto_reg:!1,admission_number:"",phone:"",email:""}),{data:n,setData:i,post:_,processing:S,errors:v,reset:k}=y({file:null,class_id:"",sub_class_id:""}),w=m,A=l=>{l.preventDefault(),g("/students",{onSuccess:()=>{N(),t()}})},P=l=>{l.preventDefault(),_("/students/import",{onSuccess:()=>{k(),t()},forceFormData:!0})},E=l=>{i("file",l.target.files[0])};return e.jsx("div",{className:"modal-overlay",onClick:t,children:e.jsxs("div",{className:"modal-content add-student-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("div",{className:"header-title",children:e.jsx("h3",{children:"Add Student"})}),e.jsx("button",{className:"close-btn",onClick:t,children:e.jsx(C,{size:20})})]}),e.jsxs("div",{className:"modal-tabs",children:[e.jsx("button",{className:`tab-btn ${u==="single"?"active":""}`,onClick:()=>o("single"),children:"Single Student"}),e.jsx("button",{className:`tab-btn ${u==="multiple"?"active":""}`,onClick:()=>o("multiple"),children:"Multiple Students (CSV)"})]}),u==="single"?e.jsxs("form",{onSubmit:A,className:"student-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Full Name"}),e.jsx("input",{type:"text",placeholder:"Student full name",value:h.name,onChange:l=>d("name",l.target.value),className:c.name?"error-input":""}),c.name&&e.jsx("span",{className:"error-msg",children:c.name})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Gender"}),e.jsx("input",{type:"text",placeholder:"Gender",value:h.gender,onChange:l=>d("gender",l.target.value),className:(c.gender,"hidden")}),e.jsxs("select",{value:h.gender,onChange:l=>d("gender",l.target.value),className:c.gender?"error-input":"",children:[e.jsx("option",{value:"",children:"Gender"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]}),c.gender&&e.jsx("span",{className:"error-msg",children:c.gender})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Class"}),e.jsxs("select",{value:h.class_id,onChange:l=>d("class_id",l.target.value),className:c.class_id?"error-input":"",children:[e.jsx("option",{value:"",children:"--Select class--"}),a.map(l=>e.jsx("option",{value:l.id,children:l.name},l.id))]}),c.class_id&&e.jsx("span",{className:"error-msg",children:c.class_id})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Subclass"}),e.jsxs("select",{value:h.sub_class_id,onChange:l=>d("sub_class_id",l.target.value),className:c.sub_class_id?"error-input":"",children:[e.jsx("option",{value:"",children:"Select Subclass"}),w.map(l=>e.jsx("option",{value:l.id,children:l.name},l.id))]}),c.sub_class_id&&e.jsx("span",{className:"error-msg",children:c.sub_class_id})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"text",placeholder:"Student or Parent phone",value:h.phone,onChange:l=>d("phone",l.target.value),className:c.phone?"error-input":""}),c.phone&&e.jsx("span",{className:"error-msg",children:c.phone})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email Address"}),e.jsx("input",{type:"email",placeholder:"For virtual account generation",value:h.email,onChange:l=>d("email",l.target.value),className:c.email?"error-input":""}),c.email&&e.jsx("span",{className:"error-msg",children:c.email})]}),e.jsx("div",{className:"form-checkbox-group",children:e.jsxs("label",{className:"checkbox-container",children:[e.jsx("input",{type:"checkbox",checked:h.auto_reg,onChange:l=>d("auto_reg",l.target.checked)}),e.jsx("span",{className:"checkmark"}),"Auto generate reg number ?"]})}),!h.auto_reg&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reg Number"}),e.jsx("input",{type:"text",placeholder:"Enter Reg Number",value:h.admission_number,onChange:l=>d("admission_number",l.target.value),className:c.admission_number?"error-input":""}),c.admission_number&&e.jsx("span",{className:"error-msg",children:c.admission_number})]}),e.jsx("button",{type:"submit",className:"btn-promote full-width mt-6",disabled:r,children:r?"Saving...":"Save"})]}):e.jsxs("form",{onSubmit:P,className:"student-form",children:[e.jsxs("div",{className:"download-template-area",children:[e.jsx("a",{href:"/students/template",target:"_blank",className:"download-link",children:"Download Sample File Here. Do not change the headers !"}),"                        "]}),e.jsxs("div",{className:"file-upload-area",children:[e.jsx("input",{type:"file",id:"csv-upload-tab",accept:".csv",onChange:E,className:"hidden-file-input"}),e.jsxs("label",{htmlFor:"csv-upload-tab",className:"upload-label",children:[e.jsx("div",{className:"upload-icon-wrapper",children:e.jsx(ee,{size:32})}),e.jsxs("span",{className:"upload-text",children:["Drop your students file here or ",e.jsx("span",{className:"highlight-text",children:"Browse"})]}),e.jsx("span",{className:"upload-subtext",children:"Supports: CSV, XLS, XLSX"}),n.file&&e.jsx("div",{className:"file-name-tag",children:n.file.name})]}),v.file&&e.jsx("div",{className:"error-msg mt-2",children:v.file})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Class"}),e.jsxs("select",{value:n.class_id,onChange:l=>i("class_id",l.target.value),className:v.class_id?"error-input":"",children:[e.jsx("option",{value:"",children:"--Select class--"}),a.map(l=>e.jsx("option",{value:l.id,children:l.name},l.id))]}),v.class_id&&e.jsx("span",{className:"error-msg",children:v.class_id})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Subclass"}),e.jsxs("select",{value:n.sub_class_id,onChange:l=>i("sub_class_id",l.target.value),className:v.sub_class_id?"error-input":"",children:[e.jsx("option",{value:"",children:"Select Subclass"}),w.map(l=>e.jsx("option",{value:l.id,children:l.name},l.id))]}),v.sub_class_id&&e.jsx("span",{className:"error-msg",children:v.sub_class_id})]}),e.jsx("button",{type:"submit",className:"btn-promote full-width",disabled:S||!n.file,children:S?"Saving...":"Save"})]})]})})},de=({show:x,onClose:t,onExport:a,hasActiveFilters:m})=>{if(!x)return null;const[u,o]=j.useState(m?"filtered":"all"),h=()=>{a(u),t()};return e.jsx("div",{className:"modal-overlay",onClick:t,children:e.jsxs("div",{className:"modal-content promotion-modal",onClick:d=>d.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("div",{className:"header-title",children:[e.jsx("h3",{children:"Export student records"}),e.jsx("p",{children:"Which records do you want to export?"})]}),e.jsx("button",{className:"close-btn",onClick:t,children:e.jsx(C,{size:20})})]}),e.jsxs("div",{className:"promotion-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"radio-option",children:[e.jsx("input",{type:"radio",name:"exportType",value:"filtered",checked:u==="filtered",onChange:()=>o("filtered"),disabled:!m}),e.jsx("div",{className:"radio-content",children:e.jsx("span",{className:`radio-label ${m?"":"disabled"}`,children:"With current filters"})})]}),e.jsxs("label",{className:"radio-option mt-4",children:[e.jsx("input",{type:"radio",name:"exportType",value:"all",checked:u==="all",onChange:()=>o("all")}),e.jsx("div",{className:"radio-content",children:e.jsx("span",{className:"radio-label",children:"All student records"})})]})]}),e.jsx("div",{className:"form-footer-actions",children:e.jsx("button",{type:"button",className:"btn-promote full-width",onClick:h,children:"Export"})})]})]})})},he=({show:x,onClose:t,student:a,classes:m=[],subClasses:u=[]})=>{if(!x||!a)return null;const{data:o,setData:h,put:d,processing:g,errors:r,reset:c}=y({name:"",gender:"",class_id:"",sub_class_id:"",phone:"",email:""});j.useEffect(()=>{a&&h({name:a.name||"",gender:a.gender||"",class_id:a.class_id||"",sub_class_id:a.sub_class_id||"",phone:a.phone||"",email:a.email||""})},[a]);const N=u,n=i=>{i.preventDefault(),d(`/students/${a.id}`,{onSuccess:()=>{t(),c()}})};return e.jsx("div",{className:"modal-overlay",onClick:t,children:e.jsxs("div",{className:"modal-content add-student-modal",onClick:i=>i.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("div",{className:"header-title",children:e.jsx("h3",{children:"Edit Student"})}),e.jsx("button",{className:"close-btn",onClick:t,children:e.jsx(C,{size:20})})]}),e.jsxs("form",{onSubmit:n,className:"student-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Full Name"}),e.jsx("input",{type:"text",placeholder:"Student full name",value:o.name,onChange:i=>h("name",i.target.value),className:r.name?"error-input":""}),r.name&&e.jsx("span",{className:"error-msg",children:r.name})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Gender"}),e.jsxs("select",{value:o.gender,onChange:i=>h("gender",i.target.value),className:r.gender?"error-input":"",children:[e.jsx("option",{value:"",children:"Gender"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]}),r.gender&&e.jsx("span",{className:"error-msg",children:r.gender})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Class"}),e.jsxs("select",{value:o.class_id,onChange:i=>{h(_=>({..._,class_id:i.target.value,sub_class_id:""}))},className:r.class_id?"error-input":"",children:[e.jsx("option",{value:"",children:"--Select class--"}),m.map(i=>e.jsx("option",{value:i.id,children:i.name},i.id))]}),r.class_id&&e.jsx("span",{className:"error-msg",children:r.class_id})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Subclass"}),e.jsxs("select",{value:o.sub_class_id,onChange:i=>h("sub_class_id",i.target.value),className:r.sub_class_id?"error-input":"",children:[e.jsx("option",{value:"",children:"Select Subclass"}),N.map(i=>e.jsx("option",{value:i.id,children:i.name},i.id))]}),r.sub_class_id&&e.jsx("span",{className:"error-msg",children:r.sub_class_id})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"text",placeholder:"Student or Parent phone",value:o.phone,onChange:i=>h("phone",i.target.value),className:r.phone?"error-input":""}),r.phone&&e.jsx("span",{className:"error-msg",children:r.phone})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email Address"}),e.jsx("input",{type:"email",placeholder:"For virtual account generation",value:o.email,onChange:i=>h("email",i.target.value),className:r.email?"error-input":""}),r.email&&e.jsx("span",{className:"error-msg",children:r.email})]}),e.jsx("div",{className:"modal-footer-actions mt-6",children:e.jsx("button",{type:"submit",className:"btn-promote full-width",disabled:g,children:g?"Saving Changes...":"Save Changes"})})]})]})})},me=({show:x,onClose:t,student:a})=>!x||!a?null:e.jsx("div",{className:"modal-overlay",onClick:t,children:e.jsxs("div",{className:"modal-content student-details-modal",onClick:m=>m.stopPropagation(),children:[e.jsx("div",{className:"modal-header no-border",children:e.jsx("button",{className:"close-btn",onClick:t,children:e.jsx(C,{size:20})})}),e.jsxs("div",{className:"details-scroll-content",children:[e.jsxs("div",{className:"profile-header-section",children:[e.jsxs("div",{className:"profile-avatar-wrapper",children:[e.jsx("div",{className:"large-avatar",children:a.name.charAt(0)}),e.jsx("div",{className:"verify-badge",children:e.jsx(ne,{size:12,color:"white"})})]}),e.jsxs("div",{className:"profile-identity",children:[e.jsx("h3",{children:a.name}),e.jsx("span",{className:"reg-no",children:a.admission_number||"No Reg No"})]})]}),e.jsxs("div",{className:"info-grid-section",children:[e.jsxs("div",{className:"info-row",children:[e.jsx("span",{className:"info-label",children:"Gender"}),e.jsx("span",{className:"info-value",children:a.gender}),e.jsx("span",{className:"info-label",children:"Class"}),e.jsx("span",{className:"info-value",children:a.class_name})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("span",{className:"info-label",children:"Email"}),e.jsx("span",{className:"info-value full-width",children:a.email||"N/A"})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("span",{className:"info-label",children:"Phone"}),e.jsx("span",{className:"info-value full-width",children:a.phone||"N/A"})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("span",{className:"info-label",children:"School Name:"}),e.jsx("span",{className:"info-value full-width",children:a.school_name})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("span",{className:"info-label",children:"Added On"}),e.jsx("span",{className:"info-value full-width",children:a.added_on})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("span",{className:"info-label",children:"Session Added"}),e.jsx("span",{className:"info-value full-width",children:a.session_added})]})]}),e.jsxs("div",{className:"detail-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h4",{children:"Academic History"}),e.jsx("button",{className:"edit-icon-btn",children:e.jsx(se,{size:12})})]}),e.jsx("div",{className:"history-cards",children:a.academic_history&&a.academic_history.length>0?a.academic_history.map((m,u)=>e.jsxs("div",{className:"history-card",children:[e.jsxs("div",{className:"history-title",children:["Class: ",m.class]}),e.jsxs("div",{className:"history-session",children:["Session ",m.session]})]},u)):e.jsxs("div",{className:"history-card",children:[e.jsx("div",{className:"history-title",children:"Current Class"}),e.jsx("div",{className:"history-session",children:a.class_name})]})})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("h4",{children:"Account Numbers"}),e.jsx("div",{className:"accounts-list",children:a.account_numbers&&a.account_numbers.length>0?a.account_numbers.map((m,u)=>e.jsxs("div",{className:"account-card",children:[e.jsxs("div",{className:"acc-label",children:["Account ",u+1]}),e.jsxs("div",{className:"acc-row",children:["Account Number: ",e.jsx("span",{className:"acc-val",children:m.number})]}),e.jsxs("div",{className:"acc-row",children:["Account Name: ",e.jsx("span",{className:"acc-val",children:m.name})]}),e.jsxs("div",{className:"acc-row",children:["Account Bank: ",e.jsx("span",{className:"acc-val",children:m.bank})]})]},u)):e.jsx("div",{className:"account-card",children:e.jsx("div",{className:"acc-label",children:"No Account Assigned"})})})]})]})]})}),ue=({show:x,onClose:t,selectedStudentIds:a=[]})=>{if(!x)return null;const{post:m,processing:u}=y({student_ids:a}),o=a.length>1,h=d=>{d.preventDefault(),m("/students/bulk-graduate",{onSuccess:()=>{t()}})};return e.jsx("div",{className:"modal-overlay",onClick:t,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:e.jsxs("div",{className:"modal-content",onClick:d=>d.stopPropagation(),style:{background:"white",padding:"40px",borderRadius:"32px",width:"90%",maxWidth:"500px",textAlign:"center",boxShadow:"0 10px 40px rgba(0,0,0,0.1)"},children:[e.jsxs("h3",{style:{margin:"0 0 12px",fontSize:"1.5rem",fontWeight:"800"},children:["You are about to graduate ",a.length," selected student",o?"s":""]}),e.jsx("p",{style:{margin:"0 0 32px",color:"#666",fontSize:"1.1rem",lineHeight:"1.5"},children:"They will no longer appear in the list of students required to pay fees"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[e.jsx("button",{onClick:t,style:{padding:"16px",borderRadius:"12px",border:"1px solid #000",background:"white",color:"#000",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer"},children:"Cancel"}),e.jsx("button",{onClick:h,disabled:u,style:{padding:"16px",borderRadius:"12px",border:"none",background:"#D1127B",color:"white",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer"},children:u?"Processing...":"Proceed"})]})]})})},ye=({initialStudents:x=[],initialClasses:t=[],initialSubClasses:a=[]})=>{const[m,u]=j.useState(""),[o,h]=j.useState(""),[d,g]=j.useState(""),[r,c]=j.useState("active"),N=x,[n,i]=j.useState([]),[_,S]=j.useState(!1),[v,k]=j.useState(!1),[w,A]=j.useState(!1),[P,E]=j.useState(null),[l,B]=j.useState(null),[V,F]=j.useState(!1),L=a.filter(s=>!o||s.class_id==o||!s.class_id),f=N.filter(s=>{const p=s.name.toLowerCase().includes(m.toLowerCase())||s.admission_number.toLowerCase().includes(m.toLowerCase()),b=o?s.class_id==o:!0,D=d?s.sub_class_id==d:!0,X=r?(s.status||"active")===r:!0;return p&&b&&D&&X}),H=s=>{switch(s?.toLowerCase()){case"paid":return"active";case"partial":return"partial";case"pending":return"inactive";default:return"inactive"}},q=s=>{s.target.checked?i(f.map(p=>p.id)):i([])},W=s=>{n.includes(s)?i(n.filter(p=>p!==s)):i([...n,s])},O=s=>{h(s.target.value),g("")},U=s=>{let p="/students/export";if(s==="filtered"){const b=new URLSearchParams;o&&b.append("class_id",o),d&&b.append("sub_class_id",d),r&&b.append("status",r),p+=`?${b.toString()}`}window.location.href=p};return e.jsx(e.Fragment,{children:e.jsxs(J,{children:[e.jsx(Y,{title:`Students - ${N.length}`}),e.jsxs("div",{className:"students-page-container",children:[e.jsxs("div",{className:"students-top-bar",children:[e.jsxs("h1",{className:"page-heading",children:["Students - ",e.jsx("span",{className:"count",children:f.length.toLocaleString()})]}),e.jsx("div",{className:"header-actions",children:n.length>0?e.jsxs("div",{style:{display:"flex",gap:"10px"},children:[e.jsxs("button",{className:"btn-promote-action",onClick:()=>{confirm(`Are you sure you want to delete ${n.length} students? This action cannot be undone.`)&&M(async()=>{const{router:s}=await import("./app-8SCMTW8O.js").then(p=>p.i);return{router:s}},__vite__mapDeps([0,1])).then(({router:s})=>{s.delete("/students/bulk-delete",{data:{student_ids:n},onSuccess:()=>i([])})})},style:{background:"#ff4d4f",borderColor:"#ff4d4f"},children:[e.jsx(G,{size:18}),"Delete (",n.length,")"]}),e.jsxs("button",{className:"btn-promote-action",onClick:()=>F(!0),style:{background:"#D1127B",borderColor:"#D1127B"},children:[e.jsx(R,{size:18,style:{transform:"rotate(180deg)"}}),"Graduate (",n.length,")"]}),e.jsxs("button",{className:"btn-promote-action",onClick:()=>S(!0),children:[e.jsx($,{size:18}),"Promote (",n.length,")"]}),e.jsxs("button",{className:"btn-promote-action",onClick:()=>{confirm(`Generate virtual accounts for ${n.length} students? Students who already have accounts will be skipped.`)&&M(async()=>{const{router:s}=await import("./app-8SCMTW8O.js").then(p=>p.i);return{router:s}},__vite__mapDeps([0,1])).then(({router:s})=>{s.post("/students/bulk-generate-dva",{student_ids:n},{onSuccess:()=>i([])})})},style:{background:"#00B894",borderColor:"#00B894"},children:[e.jsx(K,{size:18}),"Generate DVA (",n.length,")"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"import-btn-outline",onClick:()=>k(!0),children:[e.jsx($,{size:18}),"+ Add Student"]}),e.jsxs("button",{className:"export-btn-primary",onClick:()=>A(!0),children:[e.jsx(R,{size:18}),"Export"]})]})})]}),e.jsxs("div",{className:"students-table-card card",children:[e.jsxs("div",{className:"table-filters-row",children:[e.jsx("div",{className:"filter-group",children:e.jsxs("select",{value:o,onChange:O,className:"filter-select",children:[e.jsx("option",{value:"",children:"Filter by class"}),t.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})}),e.jsx("div",{className:"filter-group",children:e.jsxs("select",{value:d,onChange:s=>g(s.target.value),className:"filter-select",disabled:!o&&L.length>10,children:[e.jsx("option",{value:"",children:"Filter by subclass"}),L.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})}),e.jsxs("div",{className:"search-wrapper",children:[e.jsx(Q,{size:18,className:"search-icon"}),e.jsx("input",{type:"text",placeholder:"Search by name or reg number",value:m,onChange:s=>u(s.target.value)})]}),e.jsx("div",{className:"filter-group",children:e.jsxs("select",{value:r,onChange:s=>c(s.target.value),className:"filter-select",children:[e.jsx("option",{value:"active",children:"Active Students"}),e.jsx("option",{value:"graduated",children:"Graduated"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"",children:"All Statuses"})]})})]}),e.jsx("div",{className:"table-scroll-area",children:e.jsxs("table",{className:"students-data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"checkbox-col",children:e.jsx("input",{type:"checkbox",onChange:q,checked:f.length>0&&n.length===f.length})}),e.jsx("th",{children:"S/N"}),e.jsx("th",{children:"Payer"}),e.jsx("th",{children:"Reg Number"}),e.jsx("th",{children:"Class"}),e.jsx("th",{children:"Virtual Account"}),e.jsx("th",{children:"Phone"}),e.jsx("th",{className:"status-col",children:"Status"}),e.jsx("th",{className:"actions-col",children:"Actions"})]})}),e.jsxs("tbody",{children:[f.map((s,p)=>e.jsxs("tr",{className:n.includes(s.id)?"selected-row":"",children:[e.jsx("td",{className:"checkbox-col",children:e.jsx("input",{type:"checkbox",onChange:()=>W(s.id),checked:n.includes(s.id)})}),e.jsx("td",{children:p+1}),e.jsx("td",{className:"payer-cell",children:e.jsxs("div",{className:"payer-info",children:[e.jsx("div",{className:"avatar-placeholder",children:s.name.charAt(0)}),e.jsx(T,{href:`/students/${s.id}`,className:"payer-name hover:text-pink-600 hover:underline",children:s.name})]})}),e.jsx("td",{children:s.admission_number}),e.jsxs("td",{children:[s.class_name," (",s.sub_class_name,")"]}),e.jsx("td",{children:s.has_vaccount?e.jsxs("div",{className:"vaccount-info",children:[e.jsx("span",{className:"account-number",children:s.account_numbers[0]?.number}),e.jsx("span",{className:"bank-name",children:s.account_numbers[0]?.bank})]}):e.jsx("span",{className:"no-vaccount",children:"Not Generated"})}),e.jsx("td",{children:s.phone}),e.jsxs("td",{children:[e.jsxs("span",{className:`status-pill ${H(s.payment_status)}`,children:[e.jsx("span",{className:"pill-dot"}),s.payment_status]}),s.status==="graduated"&&e.jsx("span",{className:"status-pill",style:{background:"#f0f0f0",color:"#666",marginLeft:"8px"},children:"Graduated"})]}),e.jsx("td",{className:"actions-cell",children:e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx("button",{className:"icon-action-btn",title:"Edit Student",onClick:()=>E(s),children:e.jsx(ae,{size:16,color:"#4A5568"})}),e.jsx("button",{className:"icon-action-btn",title:"Delete Student",onClick:()=>{confirm("Are you sure you want to delete this student profile?")&&M(async()=>{const{router:b}=await import("./app-8SCMTW8O.js").then(D=>D.i);return{router:b}},__vite__mapDeps([0,1])).then(({router:b})=>{b.delete(`/students/${s.id}`)})},children:e.jsx(G,{size:16,color:"#ff4d4f"})}),e.jsx(T,{href:`/students/${s.id}`,className:"icon-action-btn",title:"View Profile",children:e.jsx(te,{size:16,color:"#D1127B"})})]})})]},s.id)),f.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"no-records",children:"No students found."})})]})]})}),e.jsxs("div",{className:"table-footer-pagination",children:[e.jsx("button",{className:"nav-page-btn disabled",children:"« Previous"}),e.jsx("div",{className:"center-page-num",children:e.jsx("span",{className:"page-box active",children:"1"})}),e.jsx("button",{className:"nav-page-btn disabled",children:"Next »"})]})]})]}),e.jsx(ce,{show:_,onClose:()=>S(!1),selectedStudentIds:n,classes:t}),e.jsx(oe,{show:v,onClose:()=>k(!1),classes:t,subClasses:a}),e.jsx(de,{show:w,onClose:()=>A(!1),onExport:U,hasActiveFilters:!!o||!!d}),e.jsx(he,{show:!!P,onClose:()=>E(null),student:P,classes:t,subClasses:a}),e.jsx(me,{show:!!l,onClose:()=>B(null),student:l}),e.jsx(ue,{show:V,onClose:()=>F(!1),selectedStudentIds:n})]})})};export{ye as default};
