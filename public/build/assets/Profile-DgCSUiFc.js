import{f as N,u as f,R as p,j as e,a as y}from"./app-CiNM6r81.js";import{L as b,U as M,B as k}from"./Layout-UVH52YpB.js";import{c as r}from"./createLucideIcon-9gt5Qjzr.js";import{S as w}from"./save-DhLEpyBJ.js";const L=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],_=r("building",L);const P=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],S=r("camera",P);const z=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],A=r("mail",z),I=({user:l})=>{const{props:c}=N(),{institution:o}=l,{data:t,setData:n,post:C,processing:m,errors:a}=f({name:l.name||"",institution_name:o?.name||"",email:l.email||"",logo:null,avatar:null}),[d,u]=p.useState(o?.logo?`/storage/${o.logo}`:null),[h,x]=p.useState(l.avatar?`/storage/${l.avatar}`:null),g=s=>{const i=s.target.files[0];i&&(n("logo",i),u(URL.createObjectURL(i)))},v=s=>{const i=s.target.files[0];i&&(n("avatar",i),x(URL.createObjectURL(i)))},j=s=>{s.preventDefault(),y.post("/profile",{...t,_method:"PUT"})};return e.jsx(b,{title:"My Profile",children:e.jsxs("div",{className:"profile-page-container",children:[e.jsxs("div",{className:"profile-page-header",children:[e.jsx("h1",{className:"profile-page-title",children:"My Profile"}),e.jsx("p",{className:"profile-page-subtitle",children:"Manage your account and institution details"})]}),c.flash.success&&e.jsx("div",{className:"alert-success",children:c.flash.success}),e.jsx("div",{className:"profile-card",children:e.jsxs("form",{onSubmit:j,children:[e.jsxs("div",{className:"avatar-section",children:[e.jsxs("div",{className:"avatar-upload-container",children:[h?e.jsx("img",{src:h,alt:"Avatar",className:"avatar-preview-img"}):e.jsx("div",{className:"avatar-letter-placeholder",children:t.name.charAt(0)}),e.jsx("label",{className:"avatar-upload-overlay",htmlFor:"avatar-input",children:e.jsx(S,{size:20})}),e.jsx("input",{type:"file",id:"avatar-input",accept:"image/*",onChange:v,style:{display:"none"}})]}),e.jsxs("div",{className:"avatar-info",children:[e.jsx("h3",{children:t.name}),e.jsxs("p",{children:["Admin Account â€¢ ",l.role==="admin"?"Super Admin":"Staff"]})]})]}),e.jsxs("div",{className:"institution-logo-section",children:[e.jsx("h4",{className:"section-title",children:"Institution Branding"}),e.jsxs("div",{className:"logo-upload-box",children:[e.jsx("div",{className:"logo-preview-area",children:d?e.jsx("img",{src:d,alt:"Institution Logo",className:"logo-preview-img"}):e.jsxs("div",{className:"logo-placeholder",children:[e.jsx(_,{size:32}),e.jsx("span",{children:"No Logo Uploaded"})]})}),e.jsxs("div",{className:"logo-upload-controls",children:[e.jsx("label",{className:"btn-upload",htmlFor:"logo-input",children:"Change Institution Logo"}),e.jsx("input",{type:"file",id:"logo-input",accept:"image/*",onChange:g,style:{display:"none"}}),e.jsx("p",{className:"upload-hint",children:"Recommended format: SVG, PNG or JPG (Max 2MB)"})]})]}),a.logo&&e.jsx("p",{className:"error-message",children:a.logo})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{className:"form-label",children:"Full Name"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx(M,{className:"input-icon",size:20}),e.jsx("input",{type:"text",value:t.name,onChange:s=>n("name",s.target.value),className:`form-input ${a.name?"error":""}`,placeholder:"Enter your full name"})]}),a.name&&e.jsx("p",{className:"error-message",children:a.name})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{className:"form-label",children:"Display Name (Institution Name)"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx(k,{className:"input-icon",size:20}),e.jsx("input",{type:"text",value:t.institution_name,onChange:s=>n("institution_name",s.target.value),className:`form-input ${a.institution_name?"error":""}`,placeholder:"Enter your institution name"})]}),a.institution_name&&e.jsx("p",{className:"error-message",children:a.institution_name})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{className:"form-label",children:"Email Address"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx(A,{className:"input-icon",size:20}),e.jsx("input",{type:"email",value:t.email,onChange:s=>n("email",s.target.value),className:`form-input ${a.email?"error":""}`,placeholder:"your@email.com"})]}),a.email&&e.jsx("p",{className:"error-message",children:a.email})]}),e.jsx("div",{className:"form-actions",children:e.jsxs("button",{type:"submit",disabled:m,className:"btn-submit",children:[e.jsx(w,{size:20}),m?"Saving...":"Save Changes"]})})]})})]})})};export{I as default};
