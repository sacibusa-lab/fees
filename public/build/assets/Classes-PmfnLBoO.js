import{u as h,r as j,j as s,R as m,H as p,L as v}from"./app-Dxo-ct31.js";import{L as b,S as u}from"./Layout-DCRYgyhB.js";import{X as N}from"./x-CuISsxgp.js";import{E as f}from"./ellipsis-vertical-CA3xBN_2.js";import"./createLucideIcon-DbfqHId5.js";const g=({isOpen:i,onClose:t,classData:a})=>{const{data:d,setData:l,put:c,processing:e,errors:n,reset:r}=h({name:""});j.useEffect(()=>{a&&l({name:a.name})},[a]);const x=o=>{o.preventDefault(),c(`/students/classes/${a.id}`,{onSuccess:()=>{t(),r()}})};return i?s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal-content",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h3",{children:"Customize Class"}),s.jsx("button",{className:"close-btn",onClick:t,children:s.jsx(N,{size:20})})]}),s.jsxs("form",{onSubmit:x,children:[s.jsx("div",{className:"modal-body",children:s.jsxs("div",{className:"form-group",children:[s.jsx("input",{type:"text",className:"modal-input",value:d.name,onChange:o=>l("name",o.target.value),placeholder:"Enter class name"}),n.name&&s.jsx("div",{className:"text-red-500 text-sm mt-1",children:n.name})]})}),s.jsx("div",{className:"modal-footer",children:s.jsx("button",{type:"submit",className:"save-btn",disabled:e,children:e?"Saving...":"Save Changes"})})]})]})}):null},z=({initialClasses:i=[]})=>{const[t,a]=m.useState(null),[d,l]=m.useState(null);m.useEffect(()=>{const e=n=>{t&&!n.target.closest(".action-cell")&&a(null)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[t]);const c=e=>{l(e),a(null)};return s.jsxs(b,{children:[s.jsx(p,{title:"Classes"}),s.jsxs("div",{className:"classes-management",children:[s.jsx("div",{className:"classes-header",children:s.jsxs(v,{href:"/students/sub-classes",className:"btn-subclass",children:[s.jsx(u,{size:16}),"Sub Class"]})}),s.jsxs("div",{className:"table-card card",children:[s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"classes-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"S/N"}),s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Class Category"}),s.jsx("th",{})]})}),s.jsxs("tbody",{children:[i.map((e,n)=>s.jsxs("tr",{children:[s.jsx("td",{children:n+1}),s.jsx("td",{className:"class-name",children:e.name}),s.jsx("td",{children:e.category_name}),s.jsxs("td",{className:"action-cell",style:{position:"relative"},children:[s.jsx("button",{className:"icon-btn",onClick:r=>{r.stopPropagation(),a(t===e.id?null:e.id)},children:s.jsx(f,{size:18})}),t===e.id&&s.jsx("div",{className:"dropdown-menu",children:s.jsxs("button",{className:"dropdown-item",onClick:()=>c(e),children:[s.jsx(u,{size:14}),"Customize"]})})]})]},e.id)),i.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:"4",style:{textAlign:"center",padding:"2rem"},children:"No classes found."})})]})]})}),s.jsxs("div",{className:"table-pagination",children:[s.jsx("button",{className:"page-nav-btn disabled",children:"« Previous"}),s.jsx("div",{className:"page-numbers",children:s.jsx("button",{className:"page-num-btn active",children:"1"})}),s.jsx("button",{className:"page-nav-btn disabled",children:"Next »"})]})]})]}),s.jsx(g,{isOpen:!!d,onClose:()=>l(null),classData:d})]})};export{z as default};
