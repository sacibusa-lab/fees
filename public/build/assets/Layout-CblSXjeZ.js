import{r as o,j as s,b as g,L as h,a as _,f as M}from"./app-Cg9hIWuz.js";import{c as i}from"./createLucideIcon-jhYRDOMX.js";const C=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],$=i("bell",C);const z=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],S=i("building-2",z);const w=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],y=i("calendar",w);const P=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],p=i("chevron-down",P);const L=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],N=i("credit-card",L);const O=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],H=i("file-text",O);const A=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],V=i("house",A);const B=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],I=i("loader-circle",B);const E=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],T=i("log-out",E);const q=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],D=i("menu",q);const F=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],R=i("settings",F);const U=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],W=i("user",U);const K=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Q=i("users",K);const X=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],k=i("x",X),G=({isOpen:t,onClose:a})=>{const[e,u]=o.useState(""),[l,m]=o.useState(!1),[n,x]=o.useState(null),[r,j]=o.useState(null);if(!t)return null;const v=async()=>{if(e.trim()){m(!0),j(null),x(null);try{const c=await g.get(`/api/payments/verify?query=${e}`);x(c.data)}catch(c){j(c.response?.data?.message||"Transaction not found. Please check the ID and try again.")}finally{m(!1)}}};return s.jsx("div",{className:"verify-modal-overlay",onClick:a,children:s.jsxs("div",{className:"verify-modal-content",onClick:c=>c.stopPropagation(),children:[s.jsx("button",{className:"close-btn",onClick:a,children:s.jsx(k,{size:24})}),s.jsx("h2",{className:"modal-title",children:"Check Payment Status"}),s.jsx("div",{className:"search-box",children:s.jsx("input",{type:"text",placeholder:"Reg Number or Payer ID",value:e,onChange:c=>u(c.target.value),onKeyPress:c=>c.key==="Enter"&&v()})}),r&&s.jsx("div",{className:"error-message",children:r}),l&&s.jsxs("div",{className:"loading-state",children:[s.jsx(I,{className:"animate-spin",size:32}),s.jsx("span",{children:"Checking status..."})]}),n&&s.jsxs("div",{className:"result-container",children:[s.jsx("h3",{className:"student-name",children:n.student_name}),s.jsxs("div",{className:"result-card",children:[s.jsxs("div",{className:"result-header",children:[s.jsx("span",{className:"fee-title",children:n.fee_title}),s.jsxs("span",{className:"session-info",children:[n.session," - ",n.term]})]}),s.jsx("div",{className:"ref-id",children:n.reference}),s.jsxs("div",{className:"result-details",children:[s.jsxs("div",{className:"detail-item",children:[s.jsx(y,{size:16}),s.jsx("span",{children:n.date})]}),s.jsxs("div",{className:"detail-item",children:[s.jsx(N,{size:16}),s.jsx("span",{children:n.amount})]})]}),s.jsx("div",{className:`status-badge ${n.status.toLowerCase()}`,children:n.status})]})]}),s.jsx("button",{className:"check-btn",onClick:v,disabled:l||!e.trim(),children:l?"Checking...":"Check"})]})})},J=({institution:t,isOpen:a,onClose:e})=>{const u=window.location.pathname,[l,m]=o.useState(u.startsWith("/students")),[n,x]=o.useState(u.startsWith("/payments")),[r,j]=o.useState(u.startsWith("/business")),[v,c]=o.useState(!1),b=()=>{_.post("/logout")},d=f=>window.location.pathname===f;return s.jsxs("div",{className:`sidebar ${a?"open":""}`,children:[s.jsx("button",{className:"sidebar-close-btn",onClick:e,children:s.jsx(k,{size:20})}),s.jsxs("div",{className:"sidebar-header",children:[s.jsxs("div",{className:"logo",children:[t?.logo?s.jsx("div",{className:"logo-image-container",children:s.jsx("img",{src:t.logo,alt:"Logo",className:"logo-img"})}):s.jsx("div",{className:"logo-icon",children:s.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z"})})}),s.jsx("span",{className:"logo-text",children:t?.name||"Fees"})]}),s.jsxs("div",{className:"portal-id",children:["Portal ID: ",t?.portal_id||"N/A"]}),s.jsxs("button",{className:"verify-payment-btn",onClick:()=>c(!0),children:[s.jsx("span",{children:"âœ“"})," Verify Payment"]})]}),s.jsx(G,{isOpen:v,onClose:()=>c(!1)}),s.jsxs("nav",{className:"sidebar-nav",children:[s.jsxs(h,{href:"/dashboard",className:`nav-item ${d("/dashboard")?"active":""}`,onClick:e,children:[s.jsx(V,{size:18}),s.jsx("span",{children:"Home"})]}),s.jsxs("div",{className:"nav-section",children:[s.jsxs("button",{className:`nav-item nav-section-header ${l?"open":""}`,onClick:()=>m(!l),children:[s.jsx(Q,{size:18}),s.jsx("span",{children:"Students Hub"}),s.jsx(p,{size:16,className:"chevron"})]}),l&&s.jsxs("div",{className:"nav-submenu",children:[s.jsxs(h,{href:"/students/classes",className:`nav-subitem ${d("/students/classes")?"active":""}`,onClick:e,children:[s.jsx("span",{className:"dot"}),"Classes"]}),s.jsxs(h,{href:"/students",className:`nav-subitem ${d("/students")?"active":""}`,onClick:e,children:[s.jsx("span",{className:"dot"}),"Students"]})]})]}),s.jsxs(h,{href:"/fees",className:`nav-item ${d("/fees")?"active":""}`,onClick:e,children:[s.jsx(H,{size:18}),s.jsx("span",{children:"Fees"})]}),s.jsxs("div",{className:"nav-section",children:[s.jsxs("button",{className:`nav-item nav-section-header ${n?"open":""}`,onClick:()=>x(!n),children:[s.jsx(N,{size:18}),s.jsx("span",{children:"Payments"}),s.jsx(p,{size:16,className:"chevron"})]}),n&&s.jsxs("div",{className:"nav-submenu",children:[s.jsxs(h,{href:"/payments/overview",className:`nav-subitem ${d("/payments/overview")?"active":""}`,onClick:e,children:[s.jsx("span",{className:"dot"}),"Overview"]}),s.jsxs(h,{href:"/payments/transactions",className:`nav-subitem ${d("/payments/transactions")?"active":""}`,onClick:e,children:[s.jsx("span",{className:"dot"}),"Transactions"]})]})]}),s.jsxs(h,{href:"/academic-sessions",className:`nav-item ${d("/academic-sessions")?"active":""}`,onClick:e,children:[s.jsx(y,{size:18}),s.jsx("span",{children:"Academic Sessions"})]}),s.jsxs("div",{className:"nav-section",children:[s.jsxs("button",{className:`nav-item nav-section-header ${r?"open":""}`,onClick:()=>j(!r),children:[s.jsx(S,{size:18}),s.jsx("span",{children:"Business"}),s.jsx(p,{size:16,className:"chevron"})]}),r&&s.jsxs("div",{className:"nav-submenu",children:[s.jsxs(h,{href:"/business/profile",className:`nav-subitem ${d("/business/profile")?"active":""}`,onClick:e,children:[s.jsx("span",{className:"dot"}),"Business Profile"]}),s.jsxs(h,{href:"/business/bank-accounts",className:`nav-subitem ${d("/business/bank-accounts")?"active":""}`,onClick:e,children:[s.jsx("span",{className:"dot"}),"Bank Accounts"]})]})]}),s.jsxs(h,{href:"/settings",className:`nav-item ${d("/settings")?"active":""}`,onClick:e,children:[s.jsx(R,{size:18}),s.jsx("span",{children:"Settings"})]})]}),s.jsxs("div",{className:"sidebar-footer",children:[s.jsxs("div",{className:"institution-info",children:[t?.logo?s.jsx("img",{src:t.logo,alt:"Institution Logo",className:"institution-avatar",style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover"}}):s.jsx("div",{className:"institution-avatar",children:t?.name?.charAt(0)||"S"}),s.jsxs("div",{className:"institution-details",children:[s.jsx("div",{className:"institution-name",children:t?.name||"Institution"}),s.jsx("div",{className:"institution-role",children:t?.email||"Admin"})]}),s.jsx(p,{size:16})]}),s.jsxs("button",{className:"logout-btn",onClick:b,children:[s.jsx(T,{size:18}),s.jsx("span",{children:"Logout"})]}),s.jsx("div",{className:"version",children:"Version 2.1.0"})]})]})},Y=({title:t,onMenuButtonClick:a})=>s.jsxs("header",{className:"header",children:[s.jsxs("div",{className:"header-left",children:[s.jsx("button",{className:"mobile-menu-btn",onClick:a,children:s.jsx(D,{size:24})}),s.jsx("h1",{className:"page-title",children:t})]}),s.jsxs("div",{className:"header-actions",children:[s.jsxs("button",{className:"icon-btn notification-btn",children:[s.jsx($,{size:20}),s.jsx("span",{className:"notification-badge",children:"1"})]}),s.jsx("button",{className:"icon-btn profile-btn",children:s.jsx(W,{size:20})})]})]}),es=({children:t})=>{const{institution:a}=M().props,[e,u]=o.useState("Portal"),[l,m]=o.useState(!1),n=()=>m(!l),x=()=>m(!1);return o.useEffect(()=>{if(a){const r=document.documentElement;a.primary_color&&(r.style.setProperty("--primary",a.primary_color),r.style.setProperty("--primary-light",`${a.primary_color}1A`)),a.secondary_color&&r.style.setProperty("--secondary",a.secondary_color),a.sidebar_color&&r.style.setProperty("--sidebar-bg",a.sidebar_color)}},[a]),s.jsxs("div",{className:"layout",children:[l&&s.jsx("div",{className:"sidebar-overlay",onClick:x}),s.jsx(J,{institution:a,isOpen:l,onClose:x}),s.jsxs("div",{className:"main-content",children:[s.jsx(Y,{title:e,onMenuButtonClick:n}),s.jsx("main",{className:"content",children:t})]})]})};export{S as B,N as C,es as L,R as S,Q as U,k as X,W as a};
