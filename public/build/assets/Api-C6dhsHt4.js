import{u,r as x,j as s}from"./app-CQEFT_Jk.js";import y from"./SettingsLayout-Crot2MZA.js";import{S as h}from"./Layout-pcf3LGhT.js";import{E as g,a as j}from"./eye-Cn75t7kw.js";import{S as k}from"./save-M4xxzlrN.js";import"./createLucideIcon-BAvPUMuG.js";const P=({paystack_public_key:c,paystack_secret_key:l})=>{const{data:r,setData:n,post:o,processing:a,errors:t,wasSuccessful:d}=u({paystack_public_key:c||"",paystack_secret_key:l||""}),[i,p]=x.useState(!1),m=e=>{e.preventDefault(),o("/settings/api")};return s.jsx(y,{title:"API Integration",children:s.jsx("div",{className:"settings-max-width",children:s.jsxs("form",{onSubmit:m,children:[s.jsxs("div",{className:"settings-section-card",children:[s.jsx("div",{className:"settings-section-header",children:s.jsx("h3",{children:"Paystack API Configuration"})}),s.jsxs("div",{className:"settings-section-content",children:[s.jsxs("div",{className:"settings-info-box",children:[s.jsx(h,{size:20,style:{flexShrink:0,marginTop:"2px"}}),s.jsxs("div",{children:[s.jsx("strong",{children:"Setup Note:"})," Enter your live or test keys from your Paystack Dashboard to enable automated payments and sub-account management within the portal."]})]}),s.jsxs("div",{className:"settings-grid-2",children:[s.jsxs("div",{className:"settings-form-group",children:[s.jsx("label",{className:"settings-label",children:"Paystack Public Key"}),s.jsx("input",{type:"text",className:"settings-input font-mono",placeholder:"pk_test_...",value:r.paystack_public_key,onChange:e=>n("paystack_public_key",e.target.value)}),t.paystack_public_key&&s.jsx("p",{className:"error-text",children:t.paystack_public_key})]}),s.jsxs("div",{className:"settings-form-group",children:[s.jsx("label",{className:"settings-label",children:"Paystack Secret Key"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("input",{type:i?"text":"password",className:"settings-input font-mono",style:{paddingRight:"40px"},placeholder:"sk_test_...",value:r.paystack_secret_key,onChange:e=>n("paystack_secret_key",e.target.value)}),s.jsx("button",{type:"button",style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#666"},onClick:()=>p(!i),children:i?s.jsx(g,{size:18}):s.jsx(j,{size:18})})]}),t.paystack_secret_key&&s.jsx("p",{className:"error-text",children:t.paystack_secret_key}),s.jsx("p",{className:"upload-hint",style:{marginTop:"8px"},children:"Security: Key is masked after saving. Overwrite to update."})]})]})]})]}),s.jsxs("div",{className:"settings-footer",children:[s.jsx("div",{className:"status-indicator",children:d&&s.jsxs("div",{className:"success-badge",children:[s.jsx("div",{className:"success-dot"}),s.jsx("span",{children:"API keys saved successfully"})]})}),s.jsxs("button",{type:"submit",disabled:a,className:"premium-save-btn",children:[a?s.jsx("div",{className:"spinner"}):s.jsx(k,{size:18}),s.jsx("span",{children:a?"Saving...":"Securely Save Keys"})]})]})]})})})};export{P as default};
