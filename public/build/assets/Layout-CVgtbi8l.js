import{r as d,j as s,b as C,L as l,a as M,f as $}from"./app-9_oLEb-g.js";import{c as i}from"./createLucideIcon-D3VZeyuY.js";const z=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],S=i("bell",z);const w=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],P=i("building-2",w);const A=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],b=i("calendar",A);const L=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],v=i("chevron-down",L);const O=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],k=i("credit-card",O);const H=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],V=i("file-text",H);const B=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],F=i("house",B);const I=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],R=i("loader-circle",I);const D=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],E=i("log-out",D);const T=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],q=i("menu",T);const W=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],U=i("search",W);const K=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Q=i("settings",K);const X=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],G=i("shield",X);const J=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Y=i("users",J);const Z=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],f=i("x",Z),ss=({isOpen:c,onClose:t})=>{const[a,m]=d.useState(""),[o,x]=d.useState(!1),[e,j]=d.useState(null),[h,p]=d.useState(null);if(!c)return null;const u=async()=>{if(a.trim()){x(!0),p(null),j(null);try{const n=await C.get("/api/payments/verify",{params:{query:a}});j(n.data)}catch(n){p(n.response?.data?.message||"Transaction not found. Please check the ID and try again.")}finally{x(!1)}}};return s.jsx("div",{className:"verify-modal-overlay",onClick:t,children:s.jsxs("div",{className:"verify-modal-content",onClick:n=>n.stopPropagation(),children:[s.jsx("button",{className:"close-btn",onClick:t,children:s.jsx(f,{size:24})}),s.jsx("h2",{className:"modal-title",children:"Check Payment Status"}),s.jsx("div",{className:"search-box",children:s.jsx("input",{type:"text",placeholder:"Reg Number or Payer ID",value:a,onChange:n=>m(n.target.value),onKeyPress:n=>n.key==="Enter"&&u()})}),h&&s.jsx("div",{className:"error-message",children:h}),o&&s.jsxs("div",{className:"loading-state",children:[s.jsx(R,{className:"animate-spin",size:32}),s.jsx("span",{children:"Checking status..."})]}),e&&s.jsx("div",{className:"result-container",children:e.type==="list"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"result-summary mb-4",children:[s.jsx("h3",{className:"student-name",children:e.student_name}),s.jsx("p",{className:"session-subtitle",children:e.session})]}),e.data.length>0?s.jsx("div",{className:"transactions-list-scroll",children:s.jsxs("table",{className:"verify-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Date"}),s.jsx("th",{children:"Term"}),s.jsx("th",{children:"Fee"}),s.jsx("th",{children:"Ref"}),s.jsx("th",{children:"Amount"}),s.jsx("th",{children:"Status"})]})}),s.jsx("tbody",{children:e.data.map((n,N)=>s.jsxs("tr",{children:[s.jsx("td",{children:n.date}),s.jsx("td",{children:n.term}),s.jsx("td",{children:n.fee_title}),s.jsx("td",{className:"font-mono text-sm",children:n.reference}),s.jsx("td",{className:"font-bold",children:n.amount}),s.jsx("td",{children:s.jsx("span",{className:`status-badge-sm ${n.status.toLowerCase()}`,children:n.status})})]},N))})]})}):s.jsx("div",{className:"empty-state-small",children:s.jsx("p",{children:"No payments found for this session."})})]}):s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"student-name",children:e.data?.student_name||e.student_name}),s.jsxs("div",{className:"result-card",children:[s.jsxs("div",{className:"result-header",children:[s.jsx("span",{className:"fee-title",children:e.data?.fee_title||e.fee_title}),s.jsxs("span",{className:"session-info",children:[e.data?.session||e.session," - ",e.data?.term||e.term]})]}),s.jsx("div",{className:"ref-id",children:e.data?.reference||e.reference}),s.jsxs("div",{className:"result-details",children:[s.jsxs("div",{className:"detail-item",children:[s.jsx(b,{size:16}),s.jsx("span",{children:e.data?.date||e.date})]}),s.jsxs("div",{className:"detail-item",children:[s.jsx(k,{size:16}),s.jsx("span",{children:e.data?.amount||e.amount})]})]}),s.jsx("div",{className:`status-badge ${(e.data?.status||e.status).toLowerCase()}`,children:e.data?.status||e.status})]})]})}),s.jsx("button",{className:"check-btn",onClick:u,disabled:o||!a.trim(),children:o?"Checking...":"Check"})]})})},es=({institution:c,isOpen:t,onClose:a})=>{const m=window.location.pathname,[o,x]=d.useState(m.startsWith("/students")),[e,j]=d.useState(m.startsWith("/payments")),[h,p]=d.useState(m.startsWith("/business")),[u,n]=d.useState(m.startsWith("/admin-care")),[N,y]=d.useState(!1),g=()=>{M.post("/logout")},r=_=>window.location.pathname===_;return s.jsxs("div",{className:`sidebar ${t?"open":""}`,children:[s.jsx("button",{className:"sidebar-close-btn",onClick:a,children:s.jsx(f,{size:20})}),s.jsxs("div",{className:"sidebar-header",children:[s.jsxs("div",{className:"logo",children:[c?.logo?s.jsx("div",{className:"logo-image-container",children:s.jsx("img",{src:c.logo,alt:"Logo",className:"logo-img"})}):s.jsx("div",{className:"logo-icon",children:s.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z"})})}),s.jsx("span",{className:"logo-text",children:c?.name||"Fees"})]}),s.jsxs("div",{className:"portal-id",children:["Portal ID: ",c?.portal_id||"N/A"]}),s.jsxs("button",{className:"verify-payment-btn",onClick:()=>y(!0),children:[s.jsx("span",{children:"âœ“"})," Verify Payment"]})]}),s.jsx(ss,{isOpen:N,onClose:()=>y(!1)}),s.jsxs("nav",{className:"sidebar-nav",children:[s.jsxs(l,{href:"/dashboard",className:`nav-item ${r("/dashboard")?"active":""}`,onClick:a,children:[s.jsx(F,{size:18}),s.jsx("span",{children:"Home"})]}),s.jsxs("div",{className:"nav-section",children:[s.jsxs("button",{className:`nav-item nav-section-header ${o?"open":""}`,onClick:()=>x(!o),children:[s.jsx(Y,{size:18}),s.jsx("span",{children:"Students Hub"}),s.jsx(v,{size:16,className:"chevron"})]}),o&&s.jsxs("div",{className:"nav-submenu",children:[s.jsxs(l,{href:"/students/classes",className:`nav-subitem ${r("/students/classes")?"active":""}`,onClick:a,children:[s.jsx("span",{className:"dot"}),"Classes"]}),s.jsxs(l,{href:"/students",className:`nav-subitem ${r("/students")?"active":""}`,onClick:a,children:[s.jsx("span",{className:"dot"}),"Students"]})]})]}),s.jsxs(l,{href:"/fees",className:`nav-item ${r("/fees")?"active":""}`,onClick:a,children:[s.jsx(V,{size:18}),s.jsx("span",{children:"Fees"})]}),s.jsxs("div",{className:"nav-section",children:[s.jsxs("button",{className:`nav-item nav-section-header ${e?"open":""}`,onClick:()=>j(!e),children:[s.jsx(k,{size:18}),s.jsx("span",{children:"Payments"}),s.jsx(v,{size:16,className:"chevron"})]}),e&&s.jsxs("div",{className:"nav-submenu",children:[s.jsxs(l,{href:"/payments/overview",className:`nav-subitem ${r("/payments/overview")?"active":""}`,onClick:a,children:[s.jsx("span",{className:"dot"}),"Overview"]}),s.jsxs(l,{href:"/payments/schedule",className:`nav-subitem ${r("/payments/schedule")?"active":""}`,onClick:a,children:[s.jsx("span",{className:"dot"}),"Payment Schedule"]}),s.jsxs(l,{href:"/payments/transactions",className:`nav-subitem ${r("/payments/transactions")?"active":""}`,onClick:a,children:[s.jsx("span",{className:"dot"}),"Transactions"]})]})]}),s.jsxs(l,{href:"/academic-sessions",className:`nav-item ${r("/academic-sessions")?"active":""}`,onClick:a,children:[s.jsx(b,{size:18}),s.jsx("span",{children:"Academic Sessions"})]}),s.jsxs("div",{className:"nav-section",children:[s.jsxs("button",{className:`nav-item nav-section-header ${h?"open":""}`,onClick:()=>p(!h),children:[s.jsx(P,{size:18}),s.jsx("span",{children:"Business"}),s.jsx(v,{size:16,className:"chevron"})]}),h&&s.jsx("div",{className:"nav-submenu",children:s.jsxs(l,{href:"/business/bank-accounts",className:`nav-subitem ${r("/business/bank-accounts")?"active":""}`,onClick:a,children:[s.jsx("span",{className:"dot"}),"Bank Accounts"]})})]}),s.jsxs("div",{className:"nav-section",children:[s.jsxs("button",{className:`nav-item nav-section-header ${u?"open":""}`,onClick:()=>n(!u),children:[s.jsx(G,{size:18}),s.jsx("span",{children:"Admin Care"}),s.jsx(v,{size:16,className:"chevron"})]}),u&&s.jsxs("div",{className:"nav-submenu",children:[s.jsxs(l,{href:"/admin-care/all-admins",className:`nav-subitem ${r("/admin-care/all-admins")?"active":""}`,onClick:a,children:[s.jsx("span",{className:"dot"}),"All Admins"]}),s.jsxs(l,{href:"/admin-care/roles",className:`nav-subitem ${r("/admin-care/roles")?"active":""}`,onClick:a,children:[s.jsx("span",{className:"dot"}),"Admin Role"]}),s.jsxs(l,{href:"/admin-care/permissions",className:`nav-subitem ${r("/admin-care/permissions")?"active":""}`,onClick:a,children:[s.jsx("span",{className:"dot"}),"Role Permission"]})]})]}),s.jsxs(l,{href:"/settings",className:`nav-item ${r("/settings")?"active":""}`,onClick:a,children:[s.jsx(Q,{size:18}),s.jsx("span",{children:"Settings"})]})]}),s.jsxs("div",{className:"sidebar-footer",children:[s.jsxs(l,{href:"/profile",className:"institution-info",style:{textDecoration:"none",color:"inherit"},children:[c?.logo?s.jsx("img",{src:c.logo,alt:"Institution Logo",className:"institution-avatar",style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover"}}):s.jsx("div",{className:"institution-avatar",children:c?.name?.charAt(0)||"S"}),s.jsxs("div",{className:"institution-details",children:[s.jsx("div",{className:"institution-name",children:c?.name||"Institution"}),s.jsx("div",{className:"institution-role",children:c?.email||"Admin"})]})]}),s.jsxs("button",{className:"logout-btn",onClick:g,children:[s.jsx(E,{size:18}),s.jsx("span",{children:"Logout"})]}),s.jsx("div",{className:"version",children:"Version 2.1.0"})]})]})},as=({title:c,onMenuButtonClick:t})=>s.jsxs("header",{className:"header",children:[s.jsxs("div",{className:"header-left",children:[s.jsx("button",{className:"mobile-menu-btn",onClick:t,children:s.jsx(q,{size:20})}),s.jsxs("div",{className:"header-search-wrapper",children:[s.jsx(U,{className:"search-icon",size:16}),s.jsx("input",{type:"text",className:"header-search-input",placeholder:"Search your items..."})]})]}),s.jsxs("div",{className:"header-actions",children:[s.jsxs("button",{className:"icon-btn notification-btn",children:[s.jsx(S,{size:18}),s.jsx("span",{className:"notification-badge"})]}),s.jsx("div",{className:"user-profile-summary",children:s.jsx("img",{src:"https://images.unsplash.com/photo-1599566150163-29194dcaad36?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80",alt:"User",className:"user-avatar"})})]})]}),is=({children:c})=>{const{institution:t}=$().props,[a,m]=d.useState("Portal"),[o,x]=d.useState(!1),e=()=>x(!o),j=()=>x(!1);return d.useEffect(()=>{if(t){const h=document.documentElement;t.primary_color&&(h.style.setProperty("--primary",t.primary_color),h.style.setProperty("--primary-light",`${t.primary_color}1A`)),t.secondary_color&&h.style.setProperty("--secondary",t.secondary_color),t.sidebar_color&&t.sidebar_color.toLowerCase()!=="#ffffff"&&t.sidebar_color.toLowerCase()!=="white"&&h.style.setProperty("--sidebar-bg",t.sidebar_color)}},[t]),s.jsxs("div",{className:"layout",children:[o&&s.jsx("div",{className:"sidebar-overlay",onClick:j}),s.jsx(es,{institution:t,isOpen:o,onClose:j}),s.jsxs("div",{className:"main-content",children:[s.jsx(as,{title:a,onMenuButtonClick:e}),s.jsx("main",{className:"content",children:c})]})]})};export{P as B,k as C,V as F,is as L,U as S,f as X,Q as a,S as b,R as c,b as d};
