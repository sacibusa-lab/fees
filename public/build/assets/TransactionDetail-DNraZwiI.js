import{r as m,j as s,H as h,L as x}from"./app-CQEFT_Jk.js";import{L as j,C as f,a as N}from"./Layout-pcf3LGhT.js";import{C as p}from"./chevron-left-gDbCHusM.js";import{D as u}from"./download-DyNpkqMO.js";import{C as v}from"./circle-x-BYQOsJaU.js";import{c as b}from"./createLucideIcon-BAvPUMuG.js";const y=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],_=b("book-open",y),T=({transaction:d})=>{const[n,c]=m.useState("payment_history"),{transaction_info:e,fee_info:l,student_info:i,payment_history:r,beneficiaries:t}=d,o=a=>{switch(a?.toLowerCase()){case"success":case"approved":return"status-approved";case"pending":return"status-pending";case"failed":return"status-failed";default:return""}};return s.jsxs(j,{children:[s.jsx(h,{title:`Transaction - ${e.reference}`}),s.jsxs("div",{className:"transaction-detail-container",children:[s.jsxs("div",{className:"detail-header",children:[s.jsxs("div",{className:"header-left",children:[s.jsx(x,{href:"/payments/transactions",className:"back-link",children:s.jsx(p,{size:24})}),s.jsx("h1",{className:"transaction-reference",children:e.reference})]}),s.jsxs("div",{className:"header-actions",children:[s.jsxs("button",{className:"action-btn download-btn",children:[s.jsx(u,{size:18}),s.jsx("span",{children:"Download"})]}),s.jsxs("button",{className:"action-btn cancel-btn",children:[s.jsx(v,{size:18}),s.jsx("span",{children:"Cancel Payment"})]})]})]}),s.jsxs("div",{className:"detail-grid",children:[s.jsxs("div",{className:"detail-section",children:[s.jsxs("div",{className:"section-title",children:[s.jsx(f,{size:18,className:"title-icon"}),"Transaction Information"]}),s.jsxs("div",{className:"info-list",children:[s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Reference"}),s.jsx("span",{className:"info-value",children:e.reference})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Transaction Status"}),s.jsxs("span",{className:`status-badge ${o(e.status)}`,children:[s.jsx("span",{className:"dot"}),e.status.toUpperCase()]})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Amount Paid"}),s.jsx("span",{className:"info-value price",children:e.amount})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Fee Incurred"}),s.jsx("span",{className:"info-value",children:e.fee_incurred})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Payment Gateway"}),s.jsx("span",{className:"info-value",children:e.gateway})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Channel of Payment"}),s.jsx("span",{className:"info-value",children:e.channel})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Destination Account"}),s.jsx("span",{className:"info-value",children:e.destination_account})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Destination Account Name"}),s.jsx("span",{className:"info-value uppercase",children:e.destination_account_name})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Virtual Account Type"}),s.jsx("span",{className:"info-value",children:e.virtual_account_type})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Method of Payment"}),s.jsx("span",{className:"info-value",children:e.method_of_payment})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Started On"}),s.jsx("span",{className:"info-value",children:e.started_on})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Completed On"}),s.jsx("span",{className:"info-value",children:e.completed_on})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Settlement Status"}),s.jsx("span",{className:"info-value",children:e.settlement_status})]})]})]}),s.jsxs("div",{className:"right-sections",children:[s.jsxs("div",{className:"detail-section",children:[s.jsxs("div",{className:"section-title",children:[s.jsx(_,{size:18,className:"title-icon"}),"Fee Information"]}),s.jsxs("div",{className:"info-list",children:[s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Purpose of Payment"}),s.jsx("span",{className:"info-value",children:l.purpose})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Amount"}),s.jsx("span",{className:"info-value price",children:l.amount})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Session"}),s.jsx("span",{className:"info-value",children:l.session})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Term"}),s.jsx("span",{className:"info-value",children:l.term})]})]})]}),s.jsxs("div",{className:"detail-section",children:[s.jsxs("div",{className:"section-title",children:[s.jsx(N,{size:18,className:"title-icon"}),"Student/Payer Information"]}),s.jsxs("div",{className:"info-list",children:[s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Student Name"}),s.jsx("span",{className:"info-value",children:i.name})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Reg Number"}),s.jsx("span",{className:"info-value",children:i.reg_number})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Class"}),s.jsx("span",{className:"info-value",children:i.class})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Email"}),s.jsx("span",{className:"info-value",children:i.email||"N/A"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Phone"}),s.jsx("span",{className:"info-value",children:i.phone||"N/A"})]})]})]})]})]}),s.jsxs("div",{className:"tabs-container",children:[s.jsxs("div",{className:"tabs-header",children:[s.jsx("button",{className:`tab-btn ${n==="beneficiaries"?"active":""}`,onClick:()=>c("beneficiaries"),children:"Beneficiaries"}),s.jsx("button",{className:`tab-btn ${n==="payment_history"?"active":""}`,onClick:()=>c("payment_history"),children:"Payment History"}),s.jsx("button",{className:`tab-btn ${n==="comments"?"active":""}`,onClick:()=>c("comments"),children:"Comments"})]}),s.jsxs("div",{className:"tab-content",children:[n==="payment_history"&&s.jsx("div",{className:"table-wrapper",children:s.jsxs("table",{className:"history-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"S/N"}),s.jsx("th",{children:"Expected"}),s.jsx("th",{children:"Amount Paid"}),s.jsx("th",{children:"Balance"}),s.jsx("th",{children:"Date"})]})}),s.jsx("tbody",{children:r.map(a=>s.jsxs("tr",{children:[s.jsx("td",{children:a.sn}),s.jsx("td",{children:a.expected}),s.jsx("td",{children:a.paid}),s.jsx("td",{children:a.balance}),s.jsx("td",{children:a.date})]},a.sn))})]})}),n==="beneficiaries"&&s.jsx("div",{className:"beneficiaries-list",children:t.length>0?s.jsxs("table",{className:"history-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Bank"}),s.jsx("th",{children:"Account Name"}),s.jsx("th",{children:"Percentage"})]})}),s.jsx("tbody",{children:t.map(a=>s.jsxs("tr",{children:[s.jsx("td",{children:a.bank_account?.bank_name}),s.jsx("td",{children:a.bank_account?.account_name}),s.jsxs("td",{children:[a.percentage,"%"]})]},a.id))})]}):s.jsx("div",{className:"empty-state",children:"No beneficiaries configured for this fee."})}),n==="comments"&&s.jsx("div",{className:"empty-state",children:"No comments for this transaction."})]})]})]})]})};export{T as default};
