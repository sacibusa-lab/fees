import{r as c,j as e,H as v}from"./app-Bea50Gbg.js";import{X as b,L as g}from"./Layout-CIfGdmkL.js";import{c as h}from"./createLucideIcon-C7VTPdfu.js";import{E as S}from"./ellipsis-vertical-B35yDkbp.js";const y=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],k=h("arrow-right",y);const w=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],f=h("circle-check",w),C=({isOpen:i,onClose:t,currentTerm:l,onNext:r})=>{if(!i)return null;const[a,n]=c.useState("keep");return e.jsx("div",{className:"term-modal-overlay",onClick:t,children:e.jsxs("div",{className:"term-modal-content",onClick:o=>o.stopPropagation(),children:[e.jsx("div",{className:"term-modal-header",children:e.jsx("h3",{children:"Start Next Term"})}),e.jsxs("div",{className:"term-modal-body",children:[e.jsxs("div",{className:"term-info-row",children:[e.jsx("div",{className:"term-check-icon",children:e.jsx(f,{size:20,color:"#10B981"})}),e.jsx("p",{className:"term-info-text",children:"Starting a new term advances the academic session accordingly."})]}),e.jsxs("p",{className:"term-question",children:["How do you want to handle outstanding payments in the current term ( ",l||"1st Term"," )"]}),e.jsxs("div",{className:"term-radio-group",children:[e.jsxs("label",{className:"term-radio-label",children:[e.jsx("input",{type:"radio",name:"paymentAction",value:"waive",checked:a==="waive",onChange:()=>n("waive")}),e.jsx("span",{className:"radio-text",children:"Waive All Outstanding Payments"})]}),e.jsxs("label",{className:"term-radio-label",children:[e.jsx("input",{type:"radio",name:"paymentAction",value:"keep",checked:a==="keep",onChange:()=>n("keep")}),e.jsx("span",{className:"radio-text",children:"Keep All Outstanding Payments"})]})]})]}),e.jsxs("div",{className:"term-modal-footer",children:[e.jsx("button",{className:"term-next-btn",onClick:()=>r(a),children:"Next"}),e.jsx("button",{className:"term-close-btn",onClick:t,children:"Close"})]})]})})},A=({isOpen:i,onClose:t,onSave:l})=>{if(!i)return null;const[r,a]=c.useState("2026/2027");return e.jsx("div",{className:"new-session-modal-overlay",onClick:t,children:e.jsxs("div",{className:"new-session-modal-content",onClick:n=>n.stopPropagation(),children:[e.jsx("div",{className:"new-session-modal-close",children:e.jsxs("button",{className:"close-btn-circle",onClick:t,children:[e.jsx(b,{size:20,color:"#EF4444"})," "]})}),e.jsxs("div",{className:"new-session-modal-body",children:[e.jsx("h2",{className:"modal-title",children:"Next Session"}),e.jsx("div",{className:"form-group",children:e.jsx("input",{type:"text",className:"session-input",value:r,onChange:n=>a(n.target.value),placeholder:"YYYY/YYYY"})}),e.jsx("button",{className:"save-session-btn",onClick:()=>l(r),children:"Save"})]})]})})},M=({sessions:i=[]})=>{const[t,l]=c.useState(null),[r,a]=c.useState(!1),[n,o]=c.useState(!1),[m,x]=c.useState(null);c.useEffect(()=>{const s=d=>{t&&!d.target.closest(".action-cell")&&l(null)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[t]);const u=s=>{l(t===s?null:s)},j=s=>{x(s),l(null),a(!0)},p=s=>{console.log(`Starting next term for session ${m?.year}, action: ${s}`),a(!1)},N=s=>{console.log(`Creating new session: ${s}`),o(!1)};return e.jsxs(g,{children:[e.jsx(v,{title:"Academic Sessions"}),e.jsxs("div",{className:"sessions-page",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Sessions"}),e.jsx("button",{className:"new-session-btn",onClick:()=>o(!0),children:"+ New Session"})]}),e.jsxs("div",{className:"sessions-table-container card",children:[e.jsxs("table",{className:"sessions-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"S/N"}),e.jsx("th",{children:"Year"}),e.jsx("th",{children:"Term"}),e.jsx("th",{children:"Status"}),e.jsx("th",{})]})}),e.jsxs("tbody",{children:[i.map((s,d)=>e.jsxs("tr",{children:[e.jsx("td",{children:d+1}),e.jsx("td",{children:s.year}),e.jsx("td",{children:s.term}),e.jsx("td",{children:e.jsxs("span",{className:`status-badge ${s.status}`,children:[e.jsx("span",{className:"status-dot"}),s.status.charAt(0).toUpperCase()+s.status.slice(1)]})}),e.jsxs("td",{className:"action-cell",style:{position:"relative"},children:[e.jsx("button",{className:"action-btn",onClick:()=>u(s.id),children:e.jsx(S,{size:18})}),t===s.id&&e.jsx("div",{className:"action-dropdown",children:e.jsxs("button",{className:"dropdown-item",onClick:()=>j(s),children:[e.jsx(k,{size:14}),e.jsx("span",{children:"Next Term"})]})})]})]},s.id)),i.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"empty-state",children:"No sessions found."})})]})]}),e.jsxs("div",{className:"table-pagination",children:[e.jsx("button",{className:"page-nav-btn disabled",children:"« Previous"}),e.jsx("div",{className:"page-numbers",children:e.jsx("button",{className:"page-num-btn active",children:"1"})}),e.jsx("button",{className:"page-nav-btn disabled",children:"Next »"})]})]}),e.jsx(C,{isOpen:r,onClose:()=>a(!1),currentTerm:m?.term,onNext:p}),e.jsx(A,{isOpen:n,onClose:()=>o(!1),onSave:N})]})]})};export{M as default};
