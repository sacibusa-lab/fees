import{u as x,r as o,j as e,H as p}from"./app-9_oLEb-g.js";import{X as j,L as u,S as N}from"./Layout-CVgtbi8l.js";/* empty css              */import{S as v}from"./save-Dr3MnOCJ.js";import{P as b}from"./plus-gzdEikSM.js";import{I as f}from"./info-CZUDYDkN.js";import"./createLucideIcon-D3VZeyuY.js";const g=({isOpen:t,onClose:n,roles:c})=>{const{data:r,setData:l,post:d,processing:i,errors:s,reset:m}=x({name:"",phone:"",role_id:"",pin:""});if(o.useEffect(()=>{t||m()},[t]),!t)return null;const h=a=>{a.preventDefault(),d("/admin-care/all-admins",{onSuccess:()=>{n(),m()}})};return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content",onClick:a=>a.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Add New Admin"}),e.jsx("button",{className:"close-btn",onClick:n,children:e.jsx(j,{size:20})})]}),e.jsxs("form",{onSubmit:h,className:"modal-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Full Name"}),e.jsx("input",{type:"text",value:r.name,onChange:a=>l("name",a.target.value),className:`form-input ${s.name?"error":""}`,placeholder:"Enter full name"}),s.name&&e.jsx("span",{className:"error-text",children:s.name})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"text",value:r.phone,onChange:a=>l("phone",a.target.value),className:`form-input ${s.phone?"error":""}`,placeholder:"Enter phone number"}),s.phone&&e.jsx("span",{className:"error-text",children:s.phone})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Role"}),e.jsxs("select",{value:r.role_id,onChange:a=>l("role_id",a.target.value),className:`form-input ${s.role_id?"error":""}`,children:[e.jsx("option",{value:"",children:"Select Role"}),c.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]}),s.role_id&&e.jsx("span",{className:"error-text",children:s.role_id})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Login PIN"}),e.jsx("input",{type:"password",value:r.pin,onChange:a=>l("pin",a.target.value),className:`form-input ${s.pin?"error":""}`,placeholder:"Create 4-6 digit numeric PIN",maxLength:6}),s.pin&&e.jsx("span",{className:"error-text",children:s.pin})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn-cancel",onClick:n,children:"Cancel"}),e.jsxs("button",{type:"submit",className:"btn-save",disabled:i,children:[e.jsx(v,{size:18}),i?"Saving...":"Create Admin"]})]})]})]})})},k=({admins:t=[],roles:n=[]})=>{const[c,r]=o.useState(!1),[l,d]=o.useState(""),i=t.filter(s=>s.name.toLowerCase().includes(l.toLowerCase())||s.email.toLowerCase().includes(l.toLowerCase()));return e.jsxs(u,{children:[e.jsx(p,{title:"All Admins"}),e.jsxs("div",{className:"all-admins-container",children:[e.jsxs("div",{className:"all-admins-header",children:[e.jsx("h2",{className:"all-admins-title",children:"All Admins"}),e.jsxs("div",{className:"header-actions",children:[e.jsxs("div",{className:"search-wrapper",children:[e.jsx(N,{className:"search-icon",size:18}),e.jsx("input",{type:"text",className:"search-input",placeholder:"Search...",value:l,onChange:s=>d(s.target.value)})]}),e.jsxs("button",{className:"btn-add-new",onClick:()=>r(!0),children:[e.jsx(b,{size:18}),"Add Admin"]})]})]}),e.jsx("div",{className:"roles-table-card",children:e.jsxs("table",{className:"roles-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"FULL NAME"}),e.jsx("th",{children:"PHONE"}),e.jsx("th",{children:"ROLE"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{style:{textAlign:"right"},children:"ACTIONS"})]})}),e.jsx("tbody",{children:i.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",style:{textAlign:"center",padding:"40px",color:"#94a3b8"},children:'No admins found. Click "Add Admin" to create one.'})}):i.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"table-avatar-cell",children:[e.jsx("div",{className:"table-avatar-circle",children:s.avatar}),s.name]})}),e.jsx("td",{style:{color:"#94a3b8"},children:s.phone||"-"}),e.jsx("td",{children:e.jsx("span",{className:"admin-role-text",children:s.role})}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${s.status==="active"?"active":"inactive"}`,children:s.status})}),e.jsx("td",{children:e.jsx("div",{className:"actions-cell",children:e.jsx("button",{className:"action-btn",style:{background:"#475569"},children:e.jsx(f,{size:16,color:"white"})})})})]},s.id))})]})})]}),e.jsx(g,{isOpen:c,onClose:()=>r(!1),roles:n})]})};export{k as default};
