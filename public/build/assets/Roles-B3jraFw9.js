import{u as j,r as h,j as e,H as p,a as u}from"./app-CiNM6r81.js";import{X as N,L as f}from"./Layout-UVH52YpB.js";/* empty css              */import{S as b}from"./save-DhLEpyBJ.js";import{P as v}from"./plus-Ce7xCHFY.js";import{P as g}from"./pen-9NT3fguf.js";import{T as S}from"./trash-2-BesC-XXI.js";import"./createLucideIcon-9gt5Qjzr.js";const A=({isOpen:l,onClose:a,role:t=null})=>{const{data:d,setData:i,post:o,put:m,processing:c,errors:s,reset:r}=j({name:"",description:""});if(h.useEffect(()=>{t?i({name:t.name,description:t.description||""}):r()},[t,l]),!l)return null;const x=n=>{n.preventDefault(),t?m(`/admin-care/roles/${t.id}`,{onSuccess:()=>{a(),r()}}):o("/admin-care/roles",{onSuccess:()=>{a(),r()}})};return e.jsx("div",{className:"modal-overlay",onClick:a,children:e.jsxs("div",{className:"modal-content",onClick:n=>n.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:t?"Edit Role":"Add New Role"}),e.jsx("button",{className:"close-btn",onClick:a,children:e.jsx(N,{size:20})})]}),e.jsxs("form",{onSubmit:x,className:"modal-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Role Name"}),e.jsx("input",{type:"text",value:d.name,onChange:n=>i("name",n.target.value),placeholder:"e.g. Super Admin",className:`form-input ${s.name?"error":""}`}),s.name&&e.jsx("span",{className:"error-text",children:s.name})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description (Optional)"}),e.jsx("textarea",{value:d.description,onChange:n=>i("description",n.target.value),placeholder:"Brief description of the role...",className:"form-textarea",rows:3}),s.description&&e.jsx("span",{className:"error-text",children:s.description})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn-cancel",onClick:a,children:"Cancel"}),e.jsxs("button",{type:"submit",className:"btn-save",disabled:c,children:[e.jsx(b,{size:18}),c?"Saving...":"Save Role"]})]})]})]})})},D=({roles:l=[]})=>{const[a,t]=h.useState(!1),[d,i]=h.useState(null),o=()=>{i(null),t(!0)},m=s=>{i(s),t(!0)},c=s=>{confirm(`Are you sure you want to delete the role "${s.name}"?`)&&u.delete(`/admin-care/roles/${s.id}`)};return e.jsxs(f,{children:[e.jsx(p,{title:"Admin Roles"}),e.jsxs("div",{className:"admin-roles-container",children:[e.jsxs("div",{className:"roles-page-header",children:[e.jsx("h2",{className:"roles-page-title",children:"All Admin Roles"}),e.jsxs("button",{className:"btn-add-new",onClick:o,children:[e.jsx(v,{size:18}),"Add New"]})]}),e.jsx("div",{className:"roles-table-card",children:l.length===0?e.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#94a3b8"},children:'No roles found. Click "Add New" to create one.'}):e.jsxs("table",{className:"roles-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"SL NO"}),e.jsx("th",{children:"ROLE NAME"}),e.jsx("th",{children:"ASSIGN ADMIN"}),e.jsx("th",{style:{textAlign:"right"},children:"ACTIONS"})]})}),e.jsx("tbody",{children:l.map((s,r)=>e.jsxs("tr",{children:[e.jsx("td",{children:r+1}),e.jsxs("td",{children:[s.name,s.description&&e.jsx("div",{style:{fontSize:"0.8em",color:"#94a3b8",marginTop:"4px"},children:s.description})]}),e.jsx("td",{children:s.admin_count}),e.jsx("td",{children:e.jsxs("div",{className:"actions-cell",children:[e.jsx("button",{className:"action-btn btn-edit",onClick:()=>m(s),children:e.jsx(g,{size:16})}),e.jsx("button",{className:"action-btn btn-delete",onClick:()=>c(s),children:e.jsx(S,{size:16})})]})})]},s.id))})]})})]}),e.jsx(A,{isOpen:a,onClose:()=>t(!1),role:d})]})};export{D as default};
